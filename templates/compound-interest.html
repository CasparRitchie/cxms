<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Compound Interest Calculator</title>
<link rel="icon" type="image/jpeg" href="../static/images/cxms-favicon1.jpeg">
<link rel="stylesheet" href="https://assets-global.website-files.com/65f3c63ea0ca2d5ac2085d14/css/think-outside-agency.webflow.bc2b59ffe.css">
<style>
    /* Additional custom CSS for responsiveness */
    .calculator-container {
        max-width: 600px;
        margin: auto;
        padding: 20px;
        box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    h1{
      font-size: -1em;
    }
    @media (max-width: 767px) {
        .calculator-container {
            margin: 20px;
            padding: 10px;
        }
        .form-field {
            width: 100%;
            margin-bottom: 10px;
        }
    }
</style>
</head>
<body>

<div class="section">
    <div class="container calculator-container">
        <h1>Compound Interest Calculator</h1>
        <form id="interestForm" class="form-block w-form">
            <input type="number" name="initialInvestment" class="form-field w-input" placeholder="Initial Investment" required>
            <input type="number" name="monthlyContribution" class="form-field w-input" placeholder="Monthly Contribution" required>
            <input type="number" name="years" class="form-field w-input" placeholder="Length of Time in Years" required>
            <input type="number" name="annualRate" class="form-field w-input" placeholder="Estimated Interest Rate" required>
            <input type="number" name="varianceRange" class="form-field w-input" placeholder="Interest Rate Variance Range" required>
            <select name="frequency" class="form-field w-select">
                <option value="1">Annually</option>
                <option value="2">Semi-Annually</option>
                <option value="4">Quarterly</option>
                <option value="12">Monthly</option>
                <option value="365">Daily</option>
            </select>
            <button type="submit" class="submit-button-custom w-button">Calculate</button>
        </form>
        <div id="results"></div>
    </div>
</div>

<script>
document.getElementById('interestForm').onsubmit = function(event) {
    event.preventDefault();
    const formData = new FormData(event.target);
    fetch('/compound-interest', {
        method: 'POST',
        body: formData
    })
    .then(response => response.json())
    .then(data => {
        const resultsElement = document.getElementById('results');
        resultsElement.innerHTML = '';
        for (const [rate, amount] of Object.entries(data)) {
            const resultItem = document.createElement('p');
            resultItem.textContent = `${rate}: $${amount}`;
            resultsElement.appendChild(resultItem);
        }
    })
    .catch(error => console.error('Error:', error));
};
</script>
</body>
</html>
