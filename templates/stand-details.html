                <button type="button" onclick="goToStandDetails(${standIndex})">Détails du stand</button>
            `;
            document.getElementById('stands').appendChild(standDiv);

            audits[auditId].sections.push({
                standName: '',
                standDetails: ''
            });
            saveAuditData();
        }

        function goToStandDetails(index) {
            window.location.href = `stand-details.html?auditId=${auditId}&standIndex=${index}`;
        }

        function loadAuditData(id) {
            const audit = audits[id];
            if (audit) {
                for (const [key, value] of Object.entries(audit.data)) {
                    if (document.getElementById(key)) {
                        document.getElementById(key).value = value;
                    }
                }

                document.getElementById('stands').innerHTML = '';
                audit.sections.forEach((section, index) => {
                    const standDiv = document.createElement('div');
                    standDiv.className = 'stand';
                    standDiv.innerHTML = `
                        <h3>Stand ${index + 1}</h3>
                        <div class="form-group">
                            <label for="standName${index}">Nom du stand</label>
                            <input type="text" id="standName${index}" name="standName${index}" value="${section.standName}" required>
                        </div>
                        <div class="form-group">
                            <label for="standDetails${index}">Détails du stand</label>
                            <input type="text" id="standDetails${index}" name="standDetails${index}" value="${section.standDetails}" required>
                        </div>
                        <button type="button" onclick="goToStandDetails(${index})">Détails du stand</button>
                    `;
                    document.getElementById('stands').appendChild(standDiv);
                });
            }
        }

        function createNavButtons() {
            const navDiv = document.getElementById('nav-buttons');
            navDiv.innerHTML = '';
            for (const id in audits) {
                const button = document.createElement('button');
                button.innerText = `Audit ${id}`;
                button.onclick = function() {
                    auditId = id;
                    localStorage.setItem('currentAuditId', id);
                    loadAuditData(id);
                };
                navDiv.appendChild(button);
            }
        }

        createNavButtons();
        loadAuditData(auditId);
    </script>
</body>
</html>
